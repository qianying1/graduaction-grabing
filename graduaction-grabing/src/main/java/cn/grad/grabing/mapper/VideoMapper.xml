<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"    
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.grad.grabing.dao.mapper.VideoMapper">

	<sql id="selectBaseSql">
		SELECT v.* FROM tb_video
	</sql>
	<sql id="insertBaseSql">
		INSERT INTO tb_video
	</sql>
	<sql id="updateBaseSql">
		UPDATE tb_video SET
	</sql>
	
	<insert id="inserts" useGeneratedKeys="true" parameterType="java.util.List">
		<selectKey resultType="long" keyProperty="videoId" order="AFTER">
			SELECT LAST_INSERT_ID()
		</selectKey>
		<include refid="insertBaseSql"></include>
		(videoName,link,image) VALUES
		<foreach collection="list" item="video" index="index"
			separator=",">
			(#{video.videoName},#{video.link},#{video.image})
		</foreach>
	</insert>

</mapper>